# Clinical Trial Data Extractor - Environment Variables
# Copy this file to .env and fill in your values

# ==================== REQUIRED ====================

# OpenAI API Key (Required for LLM extraction)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=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

# Database Connection
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://clinical_user:your_password@localhost:5432/clinical_trials

# ==================== OPTIONAL ====================

# Flask Environment (development or production)
FLASK_ENV=development

# Flask Secret Key (for sessions - generate a random string)
SECRET_KEY=your-secret-key-here-generate-random-string

# GROBID Service URL (if using GROBID for document structure)
GROBID_URL=http://localhost:8070

# Upload folder path (relative or absolute)
UPLOAD_FOLDER=./uploads

# Maximum file size in bytes (50MB default)
MAX_CONTENT_LENGTH=52428800

# ==================== DATABASE OPTIONS ====================

# Database pool size
DB_POOL_SIZE=10

# Database connection timeout
DB_TIMEOUT=30

# ==================== API OPTIONS ====================

# OpenAI Model (default: gpt-4-turbo-preview)
OPENAI_MODEL=gpt-4-turbo-preview

# Maximum tokens for LLM responses
OPENAI_MAX_TOKENS=4000

# LLM Temperature (0.0-1.0, lower = more deterministic)
OPENAI_TEMPERATURE=0.1

# ==================== LOGGING ====================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=./logs/app.log

# ==================== PERFORMANCE ====================

# Number of worker processes for Gunicorn
WORKERS=4

# Worker timeout in seconds
WORKER_TIMEOUT=300

# Enable/disable threading
WORKER_CLASS=sync

# ==================== SECURITY (Production) ====================

# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# Enable HTTPS redirect (true/false)
FORCE_HTTPS=false

# Session cookie settings
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# ==================== MONITORING (Optional) ====================

# Sentry DSN for error tracking
# SENTRY_DSN=your-sentry-dsn-here

# Application insights key (Azure)
# APPINSIGHTS_KEY=your-app-insights-key

# ==================== FEATURES ====================

# Enable/disable specific extraction methods
ENABLE_OCR=true
ENABLE_GROBID=false
ENABLE_CAMELOT=true
ENABLE_PDFPLUMBER=true

# Confidence threshold for auto-acceptance (0.0-1.0)
CONFIDENCE_THRESHOLD=0.75

# Enable automatic table extraction
AUTO_EXTRACT_TABLES=true

# Enable automatic figure analysis (requires GPT-4 Vision)
AUTO_EXTRACT_FIGURES=false

# ==================== NOTES ====================

# To generate a secure secret key:
# python -c "import secrets; print(secrets.token_hex(32))"

# To create the database:
# createdb -U postgres clinical_trials
# psql -U postgres clinical_trials < database_schema.sql

# To verify Tesseract is installed:
# tesseract --version

# To verify Poppler is installed:
# pdftoppm -v